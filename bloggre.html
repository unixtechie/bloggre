<html>
  
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 



<script language="javascript">

function toggleDiv(divid) {
var el = document.getElementById(divid);
el.style.display = (el.style.display == 'block') ? 'none' : 'block';
}


function toggleCombined(divid){
    if(document.getElementById(divid).style.display == 'none'){
      document.getElementById(divid).style.display = 'block';
        document.getElementById("toc"+divid).className="hilited";
    }
    else{
      document.getElementById(divid).style.display = 'none';
        document.getElementById("toc"+divid).className="unhilited";
    }
}


function showAll(){
for(i=1; i <= 10000; i++){
    document.getElementById(i).style.display = 'block';
    document.getElementById("toc"+i).className="hilited";
    };
}

function hideAll(){
for(i=1; i <= 10000; i++){
    document.getElementById(i).style.display = 'none';
    document.getElementById("toc"+i).className="unhilited";
    };
}


function open_all_above(someid){

    elem = document.getElementById(someid);
        elem.style.display = 'block';
        document.getElementById('toc'+someid).className = 'hilited';
        
    while (elem.parentNode.id != 1) {
        if (elem.parentNode.nodeType == 1) {
        elem.parentNode.style.display = 'block';
        //document.getElementById(elem.parentNode.id).className = 'hilited';
        var toc_elem = document.getElementById('toc'+elem.id);
        if (toc_elem) {toc_elem.className = 'hilited'};
        }
        elem = elem.parentNode;
    }
}



// DELETING a CLONE -- this works too:
function DeleteVirtualNode(someid) {
    
    elem = document.getElementById(someid);

    while (elem.childNodes.length > 0) {
    elem.removeChild(elem.firstChild);
    }  
}

// CREATING a CLONE - this works
/* for clean execution - run "delete" before any creation */
function CreateVirtualNode(clone_from_id, append_to_id){
        DeleteVirtualNode(append_to_id);

    if ( document.getElementById(append_to_id).childNodes.length == 0 ) {
    var elem = document.createElement("div");

    elem = document.getElementById(clone_from_id).cloneNode(1);
    elem.style.display = 'block';
    document.getElementById(append_to_id).appendChild(elem); 

    } /* fi - do not create duplicates of the cloned node */ 
    
}


</script>

<style type="text/css" media="screen">


BODY {
        FONT-SIZE: 10pt;
        background: #f0f0f0;
        }
FIELDSET {
        BORDER-RIGHT: #000000 1px solid; 
        BORDER-TOP: #000000 1px solid; 
        BORDER-LEFT: #000000 1px solid; 
        BORDER-BOTTOM: #000000 1px solid; 
        PADDING-RIGHT: 5px; 
        PADDING-LEFT: 5px; 
        PADDING-BOTTOM: 2px; 
        PADDING-TOP: 5px;
        MARGIN-BOTTOM: 1px; 
        background: #f5f5f5; 
        color: #000000;
        }
LEGEND {
        BORDER-RIGHT: #a9a9a9 1px solid; 
        BORDER-BOTTOM: #a9a9a9 1px solid;
        BORDER-TOP: #a9a9a9 1px solid; 
        BORDER-LEFT: #a9a9a9 1px solid; 
        PADDING-RIGHT: 20px; 
        PADDING-LEFT: 20px; 
        PADDING-BOTTOM: 5px; 
        PADDING-TOP: 5px; 
        FONT-WEIGHT: bold;  
        BACKGROUND: #fdfdfd; 
        color: #000000;
        }
PRE     {
        PADDING-LEFT: 20px; 
        PADDING-RIGHT: 5px; 
        padding-top: 0px; 
        padding-bottom: 6px;
        MARGIN-BOTTOM: 1px; 
        BORDER-TOP: #a9a9a9 0px solid;
        BORDER-RIGHT: #a9a9a9 0px solid; 
        BORDER-LEFT: #a9a9a9 0px solid;
        BORDER-BOTTOM: #a9a9a9 0px solid;        
        background: #fefefe;
        }
.tocfieldset {
        background: #ffffff; 
        color: #000000;
        }
.codefieldset {
        BORDER-RIGHT: #000 1px solid; 
        BORDER-TOP: #000 1px solid; 
        BORDER-LEFT: #000 1px solid; 
        BORDER-BOTTOM: #000 1px solid; 
        background: #ffffff; 
        color: #000;
        MARGIN-BOTTOM: 1px; 
        PADDING-LEFT: 15px; 
        PADDING-RIGHT: 5px; 
        PADDING-BOTTOM: 10px; 
        PADDING-TOP: 1px;
        }
.codelegend {
        BORDER-RIGHT: #777 1px solid; 
        BORDER-TOP: #777 1px solid; 
        BORDER-LEFT: #777 1px solid; 
        BORDER-BOTTOM: #777 1px solid
        PADDING-RIGHT: 10px; 
        PADDING-LEFT: 10px; 
        PADDING-TOP: 2px; 
        PADDING-BOTTOM: 2px; 
        background: #ffffff; 
        color: #00b;
        FONT-WEIGHT: bold;  
        }
.chunkref {
        color: #00b;    
        background: #f6f6f6;
        font-weight: bold;
        }
.outertable {
        width: 99%; 
        cellpadding: 25; 
        background: #ffffff; 
        border: 1px solid;
        }
.hl     {
        PADDING-LEFT: 5px; PADDING-RIGHT: 5px; 
        padding-top: 5px; padding-bottom: 5px;
        MARGIN-BOTTOM: 1px; 
        BORDER-TOP: #a9a9a9 0px solid;
        BORDER-RIGHT: #a9a9a9 0px solid; 
        BORDER-LEFT: #a9a9a9 0px solid;
        BORDER-BOTTOM: #a9a9a9 0px solid;        
        background: #f5f5f5;    
        width: 70%;
        }
.hl-white     {
        PADDING-LEFT: 5px; PADDING-RIGHT: 5px; 
        padding-top: 5px; padding-bottom: 5px;
        MARGIN-BOTTOM: 1px; 
        BORDER-TOP: #a9a9a9 0px solid;
        BORDER-RIGHT: #a9a9a9 0px solid; 
        BORDER-LEFT: #a9a9a9 0px solid;
        BORDER-BOTTOM: #a9a9a9 0px solid;        
        background: #fff;    
        width: 70%;
        }
.hl-wide {
        PADDING-LEFT: 5px; 
        PADDING-RIGHT: 5px; 
        padding-top: 15px; 
        padding-bottom: 15px;
        MARGIN-BOTTOM: 1px; 
        BORDER-TOP: #a9a9a9 0px solid;
        BORDER-RIGHT: #a9a9a9 0px solid; 
        BORDER-LEFT: #a9a9a9 0px solid;
        BORDER-BOTTOM: #a9a9a9 0px solid;        
        background: #fbfbfb;    
        }
.lnum {
        color: #a0a0a0;
        }
.unhilited {background-color:white}
.hilited {background-color:#c0c0ff}
.linked_chunk {
        PADDING-RIGHT: 5px; 
        PADDING-LEFT: 5px; 
        PADDING-BOTTOM: 5px; 
        PADDING-TOP: 5px; 
        BORDER-TOP: #c0c0c0 1px solid;
        BORDER-RIGHT: #c0c0c0 1px solid; 
        BORDER-LEFT: #c0c0c0 1px solid;
        BORDER-BOTTOM: #c0c0c0 1px solid;              
        color: #505050;
        background: #ffffff;
        }
.linked_chunk_legend {
        PADDING-RIGHT: 5px; 
        PADDING-LEFT: 5px; 
        PADDING-BOTTOM: 3px; 
        PADDING-TOP: 3px; 
        BORDER-TOP: #c0c0c0 1px solid;
        BORDER-RIGHT: #c0c0c0 1px solid; 
        BORDER-LEFT: #c0c0c0 1px solid;
        BORDER-BOTTOM: #c0c0c0 1px solid;              
        color: #505050;
        background: #ffffff;
        }
a:visited { color: blue; }

</STYLE>


</head>

 <body>  <center><table class='outertable'><tr><td> 
<p><fieldset class='tocfieldset'>
<legend><b>TABLE OF CONTENTS: outline of the document structure</b></legend>

<ul>
<p>
<br>
<div class='hl' align=center>
<a href="javascript:;" onmousedown="toggleDiv('tochowto');">
<b>HOW TO USE THE FOLDING DOCUMENT [expand/collapse]</b></a>
</div>
<div id='tochowto' style='display:none' style='background:#ffffff'> 
<p>
<ul>
<li><b>Collapsing is necessary when</b> you work on code and must exclude 
<br>irrelevant sections of the rest of the literate project file. This 
<br>greatly helps to clear thinking by eliminating a general feeling of 
<br>being in a maze of code and unnecessary "housekeeping" tasks.
<br>One can say that there is a limited "buffer capacity" in the human
<br>mind, and relieving it of the need to remember where things are in a 
<br>larger file, at which other points one must fill in values or adjust
<br>invocation etc. <i>immediately makes the user "more intelligent"</i>
<p>
</li><li><b>TOC: to toggle</b> a section open/closed, click on the <i>corresponding link</i>
<br>Remember to open <i>all sections above it</i> for it to become visible.
</li><li><b>TOC: to open all sections above</b> some internal subsection to make
<br>it visible, click on the <i>section number</i> in the column on the left.
</li><li><b>TOC: to open all above and jump</b> click on the leftmost symbol.
<p>
</li><li><b>To restore the default view</b> <i>reload</i> the page in the browser.
<p>
</li><li>
<b>To keep some sections open</b> upon each reload: supposing you
<br>work on the code, constantly update it and cannot bother to reopen it 
<br>again and again - mark the headings for the sections in the source file
<br>with a plus, i.e. write the opening tag (only)  as +h2, +h3. Again, all
<br>sections above must be marked open too. 
<br><b>Note that</b> "expand all" and "collapse all" disregard these settings.
<br>Reload the page after using those options to again view the text
<br>according to your preferences.
<p>
</li><li>
<b> To use the Index </b>, click on the numbered sections in the TOC above
<br>(opening them; use highlighting as a guide; when sections are visible,
<br>the slider on your browser window  will shorten too), or "expand all", 
<br>and then use your browser's Find function to highlight all chunk name 
<br>instances in the visible text
<p>
</li><li>
<b>To search for variables etc.</b>, "expand all" text - or manually 
<br>expand needed sections - and then use your browser's Find function to 
<br>highlight all and jump between the found items.
<p></li></ul>

</div> 
<p>
<br>
<p>
<div class='hl' align=center>
<p>
<a href="javascript:;" onmousedown="toggleDiv('tocmain');">
<b>TABLE OF CONTENTS [expand/collapse]</b></a>
<a name="tocancor"></a>
</div>

<div id='tocmain' style='display:block' style='background:#ffffff'> 

<div class='hl-white' align=center>
<font size=-1 color=darkgrey><i>
<p><b>Section name</b> toggles expanded state. <b>Subsection number</b> on the left opens
<br>all parent sections to make it visible. <b>Leftmost symbol</b> opens parents and
<br>jumps to the section.
</i></font>
</div>

&nbsp;<a href="#1" onmousedown="open_all_above(1);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(1);" ><i>1</i></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(1);" id="toc1"><b><i>О формате этого файла</i></a>&nbsp;<a><font class='lnum' size=-1><i>(line 81)</i></font></b></a><br>
&nbsp;<a href="#2" onmousedown="open_all_above(2);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(2);" ><i>2</i></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(2);" id="toc2"><b> </a>&nbsp;<a><font class='lnum' size=-1><i>(line 126)</i></font></b></a><br>
&nbsp;<a href="#3" onmousedown="open_all_above(3);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(3);" ><i>3</i></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(3);" id="toc3"><b>Проект: обшие положения изложенные с упрощениями</a>&nbsp;<a><font class='lnum' size=-1><i>(line 129)</i></font></b></a><br>
&nbsp;<a href="#4" onmousedown="open_all_above(4);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(4);" ><i>4</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(4);" id="toc4"><b>Сеть и ее осуществимость </a>&nbsp;<a><font class='lnum' size=-1><i>(line 141)</i></font></b></a><br>
&nbsp;<a href="#5" onmousedown="open_all_above(5);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(5);" ><i>5</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(5);" id="toc5"><b>Что такое "жизнеспособная конфигурация"? </a>&nbsp;<a><font class='lnum' size=-1><i>(line 189)</i></font></b></a><br>
&nbsp;<a href="#6" onmousedown="open_all_above(6);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(6);" ><i>6</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(6);" id="toc6"><b>Уточнения: 3 архитектуры, постепенность создания системы</a>&nbsp;<a><font class='lnum' size=-1><i>(line 206)</i></font></b></a><br>
&nbsp;<a href="#7" onmousedown="open_all_above(7);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(7);" ><i>7</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(7);" id="toc7"><b>Первое: протоколы обмена информацией: http, https </a>&nbsp;<a><font class='lnum' size=-1><i>(line 280)</i></font></b></a><br>
&nbsp;<a href="#8" onmousedown="open_all_above(8);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(8);" ><i>8</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(8);" id="toc8"><b>Второе: pull-based networking. No pushes!</a>&nbsp;<a><font class='lnum' size=-1><i>(line 303)</i></font></b></a><br>
&nbsp;<a href="#9" onmousedown="open_all_above(9);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(9);" ><i>9</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(9);" id="toc9"><b>Первое представление о системе</a>&nbsp;<a><font class='lnum' size=-1><i>(line 348)</i></font></b></a><br>
&nbsp;<a href="#10" onmousedown="open_all_above(10);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(10);" ><i>10</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(10);" id="toc10"><b>Incremental development: создание системы наращиванием</a>&nbsp;<a><font class='lnum' size=-1><i>(line 373)</i></font></b></a><br>
&nbsp;<a href="#11" onmousedown="open_all_above(11);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(11);" ><i>11</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(11);" id="toc11"><b>Технически программа ступени 1</a>&nbsp;<a><font class='lnum' size=-1><i>(line 509)</i></font></b></a><br>
&nbsp;<a href="#12" onmousedown="open_all_above(12);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(12);" ><i>12</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(12);" id="toc12"><b>Сетевая функциональность</a>&nbsp;<a><font class='lnum' size=-1><i>(line 586)</i></font></b></a><br>
&nbsp;<a href="#13" onmousedown="open_all_above(13);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(13);" ><i>13</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(13);" id="toc13"><b>Какими средствами это делать? - язык и готовые модули</a>&nbsp;<a><font class='lnum' size=-1><i>(line 674)</i></font></b></a><br>
&nbsp;<a href="#14" onmousedown="open_all_above(14);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(14);" ><i>14</i></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(14);" id="toc14"><b> </a>&nbsp;<a><font class='lnum' size=-1><i>(line 741)</i></font></b></a><br>
&nbsp;<a href="#15" onmousedown="open_all_above(15);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(15);" ><i>15</i></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(15);" id="toc15"><b>Проект: конкретные части в деталях</a>&nbsp;<a><font class='lnum' size=-1><i>(line 744)</i></font></b></a><br>
&nbsp;<a href="#16" onmousedown="open_all_above(16);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(16);" ><i>16</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(16);" id="toc16"><b>(a) Tokyo Cabinet and Tokyo Promenade by Hibayashi</a>&nbsp;<a><font class='lnum' size=-1><i>(line 749)</i></font></b></a><br>
&nbsp;<a href="#17" onmousedown="open_all_above(17);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(17);" ><i>17</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(17);" id="toc17"><b>First ideas: how it might be set up</a>&nbsp;<a><font class='lnum' size=-1><i>(line 783)</i></font></b></a><br>
&nbsp;<a href="#18" onmousedown="open_all_above(18);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(18);" ><i>18</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(18);" id="toc18"><b>(b) Gossip-based global searching in a p2p system: PlanetP</a>&nbsp;<a><font class='lnum' size=-1><i>(line 841)</i></font></b></a><br>
&nbsp;<a href="#19" onmousedown="open_all_above(19);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(19);" ><i>19</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(19);" id="toc19"><b>Scaling of gossip-based algorithm</a>&nbsp;<a><font class='lnum' size=-1><i>(line 849)</i></font></b></a><br>
&nbsp;<a href="#20" onmousedown="open_all_above(20);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(20);" ><i>20</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(20);" id="toc20"><b>Bloom filters as central to the idea</a>&nbsp;<a><font class='lnum' size=-1><i>(line 890)</i></font></b></a><br>
&nbsp;<a href="#21" onmousedown="open_all_above(21);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(21);" ><i>21</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(21);" id="toc21"><b>(c) http+SSL с помощью внешней utility</a>&nbsp;<a><font class='lnum' size=-1><i>(line 918)</i></font></b></a><br>
&nbsp;<a href="#22" onmousedown="open_all_above(22);" >))</a>&nbsp;&nbsp;<a href="javascript:;" onmousedown="open_all_above(22);" ><i>22</i></a>&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;.&nbsp;.&nbsp;&nbsp;<a href="javascript:;" onmousedown="toggleCombined(22);" id="toc22"><b>(d) Web of Trust</a>&nbsp;<a><font class='lnum' size=-1><i>(line 937)</i></font></b></a><br>
</div>
<p>
<br>
<p>
<!--fieldset><legend-->
<div class='hl' align=center>
<a href="javascript:;" onmousedown="toggleDiv('indbuf');">
<b>INDEX of Code Chunks [expand/collapse]</b></a>
</div>
<!--/legend></fieldset-->
<p>
<div id='indbuf' style='display:none' style='background:#ffffff'> 
<ul>
<p>
A <b>"def" superscript</b> means the chunk is defined,<br>
a <b>"link"</b> that the chunk is being linked to from that section,<br>
and a <b>bare number</b> means the chunk is being used in a section.
<p>
<br>
</div>
<p>
<br>
<p><div class='hl' align=center><i>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</i></div><p>
</ul></fieldset><p>
<br><p>
<p>
<p>
<p>
<p>
        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('1');">
<font class='lnum'><i>(1)</i></font>&nbsp;<i>О формате этого файла</i></a>&nbsp;<font class='lnum' size=-1><sub><i>(line 81)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='1'></a></legend></fieldset>
<p>
<div id="1" style="display:none">   
<ul>

<p>
<p>
Файл написал как "литературный проект-файл" для  literate programming<br>
в разметке, популяризированной Норманом Рамзи в программе  noweb.<br>
Для работы с файлом не нужны ни notangle, ни noweave: я пользуюсь<br>
"MOLLY.pl".<br>
<p>
Файл пишется в простейшей разметке:<br>
<pre>
	текст текст текст текст
	текст текст текст текст
	
	<<название куска кода>>=
	код, код, код
	    с любым форматированием
	    <<ссылка на другой кусок кода по имени>>
	еще код код, код 
	if(<<ссылки могут быть внутри конструкций>>) { код };
	код
	@
	
	снова текст текст текст
	текст текст текст  и т.д.</pre><br>
<p>
Это не документирование ни в коей мере. Это разработка программы <br>
<b><i>из спецификаций на человеском языке</i></b>. Я пишу текст в первую<br>
очередь для себя, закрепляя свое представление, затем конкретизирую его<br>
в коде.<br>
Инструмент позволяет делать это в логической последовательности, а не<br>
в навязанной машинным языком программирования.<br>
В одном проект-файле может "жить" множество программных файлов, тестов,<br>
мейкфайлов и т.д.<br>
<p>
Во-вторых, текстовые части моего исходника-проекта размечены простым HTML.<br>
Молли превращает каждый html-заголовок (h1, h2, ...  h99)  в "складывающшийся"<br>
раздел и динамически генерирует оглавление и индекс кусков кода.<br>
<p>
Полную документацию этого инструмента, MOLLY.pl, см здесь:<br>
<a href=http://github.com/unixtechie/Literate-Molly>http://github.com/unixtechie/Literate-Molly</a><br>
<p>
Для его работы нужен перл без дополнительных модулей.<br>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('1');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('2');">
<font class='lnum'><i>(2)</i></font>&nbsp; </a>&nbsp;<font class='lnum' size=-1><sub><i>(line 126)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='2'></a></legend></fieldset>
<p>
<div id="2" style="display:none">   
<ul>

<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('2');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('3');">
<font class='lnum'><i>(3)</i></font>&nbsp;Проект: обшие положения изложенные с упрощениями</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 129)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='3'></a></legend></fieldset>
<p>
<div id="3" style="display:block">   <script language=javascript> 
            document.getElementById("toc"+ 3).className='hilited';
            </script>   
<ul>

<p>
<p>
Несмотря на расплывчатось и изложение по памяти, записываю, потому что<br>
такие самые общие решения принимают и забывают. Они на самом деле<br>
могут принципиально ограничивать или увечить разработку. Их необходимо<br>
держать в явном виде, потому что может быть полезно оспорить или пересмотреть.<br>
<p>
<b>Это  общие, неточные и "филологические"  соображения. Более конкретные<br>
предложения в следующем разделе</b>.<br>
<p>
<p>
        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('4');">
<font class='lnum'><i>(4)</i></font>&nbsp;Сеть и ее осуществимость </a>&nbsp;<font class='lnum' size=-1><sub><i>(line 141)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='4'></a></legend></fieldset>
<p>
<div id="4" style="display:none">   
<ul>

<p>
<p>
<p>
Идея распределенной системы блогов, которая бы использовала мощности домашних <br>
компьютеров пользователей и позволяла им обмениваться файлами напрямую, давно<br>
болтается как тема обсуждений. Несколько попыток в ЖЖ приводили как правило<br>
к полу-спецификациям и затухали.<br>
<p>
<p>
Насколько я понимаю, создать полностью независимую от центральных серверов<br>
систему сегодня не представляется возможным - никто, включая авторов публикаций<br>
в американских университетах и корпоративных центрах ( such as Hewlett-packard)<br>
не знает как поддерживать такую  ad-hoc network в живом состоянии гарантированно.<br>
<p>
"но ведь они давно есть! а как же [нужное подставить].. GNUnet, Freenet!" - нет, и <br>
"Фринет" - кривое создание, в котором авторы заявляют черты, которых он не <br>
обеспечивает, вроде анонимности: вы можете прочитать университетские <br>
исследования по размеру и топологии сети созданные на основе подсмотренных  <br>
IP, Точно так же, Фринет, как насколько я понимаю любая истинно распределенная <br>
система p2p, не дает никакой гарантии того, что сеть будет связной и будет видеть <br>
всех своих участников.<br>
<p>
В начале 2000х (примерно до 2003 года) был всплеск исследований  p2p архитектур, <br>
по-видимому потому что военные отсыпали университетам много денег: они изучали<br>
жизнеспособность таких систем для солдат и боевых устройств, перемещающихся на<br>
поле боя.<br>
<p>
Насколько я понимаю, не известно системы, которая автоматически создавала бы<br>
<i><b>жизнеспособную конфигурацию</b></i> в условиях произвольных включений и отключений <br>
участников и изменения их IP, то положение, в котором пребывает множество<br>
домашних машин ( DHCP, dynamically assigned IP adresses, unknown time of presence<br>
on-line).<br>
<p>
/технические исспедования социальных сетей сегодня продолжаются с акцентом на<br>
слежку внутри уже существующих, как с коммерческими, так и с политическими целями/<br>
<p>
Гарантированно работающая сеть возможна из машин присутствующих  on-line 24 часа<br>
в сутки.<br>
Также живая сеть возможна если использовать некоторые из постоянно присутствую-<br>
щих машин как "сервера адресов"<br>
Такими серверами могут стать специально выделенные машины этой сети, но также можно,<br>
и практически следует в виде стадии создании сети p2p blog'ов, паразитировать<br>
на существующих системах, вроде LiveJournal, где можно держать краткие,, не <br>
читаемые человеком заметки и.или комментарии со служебной информацией для <br>
обменивающихся напрямую содержанием блогов нашей сети.<br>
<p>
<p>
        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('5');">
<font class='lnum'><i>(5)</i></font>&nbsp;Что такое "жизнеспособная конфигурация"? </a>&nbsp;<font class='lnum' size=-1><sub><i>(line 189)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='5'></a></legend></fieldset>
<p>
<div id="5" style="display:none">   
<ul>

<p>
Это топология системы. известная как "малый мир". Тактику добавления связей<br>
для выращивания такой топологии при подключении новой машины к сетке<br>
описывал в своих работах  Барабаши.<br>
Она пожалуй осуществима в случае машин присутствующих в блогсети 24 часа<br>
в сутки. Она может быть осуществима, если машин с перекрывающимся временем на<br>
сети достаточно много. Она пожалуй неосуществима, если сеть образована<br>
малым числом случайных участников.<br>
<p>
Нужная связность гарантированно осуществима если адреса и топологию держит<br>
какой-нибудь центральный сервер - или множество серверов-участников блогонета -<br>
24 часа в сутки.<br>
<p>
Примерно так. .. мм.. см. уточнения в следующем подразделе<br>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('5');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('6');">
<font class='lnum'><i>(6)</i></font>&nbsp;Уточнения: 3 архитектуры, постепенность создания системы</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 206)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='6'></a></legend></fieldset>
<p>
<div id="6" style="display:none">   
<ul>

<p>
<ul>1. Возможны архитектуры блог-системы с центральным сервером, который несет всю<br>
информацию (т.е. служебную, тексты статей и комментариев)  - как ЖЖ<br>
<p>
2. первая ступень децентрализации  - держать на общих, общеизвестных серверах<br>
служебную информацию (регистрации уникальных usernames; IP и времена подключений;<br>
отключений индивидуальных людей к распределенной системе; индексы содержания<br>
постов/комментариев для поиска; списки друзей-подписчиков, которые реплицируют<br>
посты и комментарии.<br>
Т.е. всё кроме самих постов и комментариев.<br>
<p>
3. Третья ступень  - полностью распределенноая система. Нет центральных серверов<br>
вообще. Вся информация распределена и попадает к участникам (которые не постоянны<br>
на сети) в соответствии с некими алгоритмами p2p (т.е. как посты/комм так и <br>
служебная информация)<br>
</ul><br>
<p>
<b>Первая самая очевидная идея</b>  использовать "flooding" или "слухи", "rumours"<br>
для распространения информации. <br>
Почему? -- потому что главная проблема в ad-hoc networks в трудности знания <br>
глобальных параметров: они все время меняются.<br>
Следовательно, если есть <i>локальная стратегия поведения</i>, которая приводит<br>
гарантированно к желаемым глобальным характеристикам, то наша задача решена.<br>
<p>
Разговор только с непосредственными соседями есть такое сугубо локальное поведение.<br>
Похоже, оно может решать проблемы p2p сети без центральных серверов, если..<br>
<p>
Насколько это эффективно?? <br>
/учет Power Law distribution может сделать модифицированный локальный  flooding<br>
эффективным - см. например Adamic и PlanetP /<br>
<p>
до какого размера сможет вырасти такая p2p прежде<br>
чем свалиться под тяжестью traffic'а, нагрузкой сети, для постоанных обновлений?<br>
<p>
<b>Топология Малого Мира делает "слухи" эффективными</b>. Она возникает самостоя-<br>
тельно среди сообщества блогов (см. мои давние графики о ЖЖ [дать ссылку], а<br>
также на известные публикации о топологии сетей ранних 2000х годов).<br>
<p>
Поэтому её надо поддерживать принудительно при присоединении новых участников,<br>
как показывал Барабаши в одной из статей.<br>
<p>
Поэтому важна другая публикация, о пробах алгоритма в p2p названном PlanetP<br>
(см ниже)<br>
<p>
Большинство известных систем p2p, к сожалению, не дают ответа на главный для<br>
нас вопрос о жизнеспособности полностью распредешенной системы блогов, т.к.<br>
они неявно полагаются на архитектурные решения неприспособленные для полной p2p,<br>
либо преследуют цели псевдо-анонимности, "deniability" (возможность отрицать перед<br>
судом вину в распространении "запрещенных" материалов), которая вообще не является<br>
технической характеристикой и смешна с точки зрения реального устройства жизни и т.д.<br>
Они просто решают   иные задачи.<br>
<p>
<p>
<b>Следовательно, надо создавать систему распределенного блогонета по шагам</b><br>
<p>
<ul>(а) закладывать с начала алгоритмы для полностью распределенной системы<br>
<p>
(б) начинать, используя <b>сам ЖЖ</b> как центральный сервер служебной информации,<br>
(держать ее в постах в ЖЖ), вынося в распр. блоги тексты и комментарии.<br>
При этом поддерживать gateway functions к ЖЖ, т.е. агрегируя ЖЖ-материалы в блогонете,<br>
и давая возможность публиковать статьи/комментарии блогонета в ЖЖ<br>
<p>
(в) создавать сеть собственных серверов служебной информации на dedicated машинах<br>
блогонета которые на сети круглосуточно<br>
<p>
(г) переходить к пробам и замещению архитектурой полного распределенного p2p<br>
</ul><br>
<p>
<i><b>При этом связь с ЖЖ никогда не должна прерываться, т.к. такое количество<br>
пользователей терять НЕЛЬЗЯ</b></i><br>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('6');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('7');">
<font class='lnum'><i>(7)</i></font>&nbsp;Первое: протоколы обмена информацией: http, https </a>&nbsp;<font class='lnum' size=-1><sub><i>(line 280)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='7'></a></legend></fieldset>
<p>
<div id="7" style="display:none">   
<ul>

<p>
Итак, мы думаем о создании программы, живущей на домашней машине (и возможно<br>
на выделенных машинах-серверах в Интернете также), которая позволяет вести<br>
ЖЖ-подобный блог, обмениваясь однако текстами заметок и комментариев не посылая<br>
их на один-для-всех, центральный "сервер ЖЖ", но напрямую между множеством участников.<br>
<p>
Сегодня, как известно из новостей, p2p traffic отслеживается и намеренно отрезается<br>
некоторыми ISP по первому требованию мега-корпораций (читал о последнем скандале пару<br>
недель назад), т.к. "p2p - это пираты".<br>
<p>
Поэтому полагаю, что необходимо сразу отказаться от специальных протоколов. Любая<br>
p2p программа со спецпротоколом - обманка, и ее нельзя принимать всерьез. Все<br>
блоги участники должны читать как простые HTML страницы с обычных веб-серверов.<br>
в протоколе http или https.<br>
<p>
Это оставляет возможность обрезать traffic все равно, ориентируясь на содержание<br>
http страниц (давно автоматически просматриваемое на уровне ISP), или usage patterns,<br>
но сделать это в случае https труднее: есть риск обрезать для непричастных пользо-<br>
вателей их общение с магазинами и банками и т.д.<br>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('7');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('8');">
<font class='lnum'><i>(8)</i></font>&nbsp;Второе: pull-based networking. No pushes!</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 303)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='8'></a></legend></fieldset>
<p>
<div id="8" style="display:none">   
<ul>

<p>
Можно делать "активную" или "пассивную" сети. Т.е. : push-exchanges or pull-exchanges.<br>
<p>
Если машина А принудительно "отправляет пакеты", которые другие машины обязаны как-то<br>
обработать, решение, которое без тени мысли применяют буквально ВСЕ, то это сразу<br>
создает проблему "перегрузки" приемников (и намеренных Denial-of-Service attacks<br>
вражескими участниками p2p), и как следствие попытки обрезать пропускную способность,<br>
объём и потери информации.<br>
<p>
Я бы предложил ПАССИВНУЮ, pull-based схему работы нашего блогнета:<br>
<ul><li>машина/пользователь А вешает веб-страничку с запросом того, что ей/му надо<br>
</li><li>Машины Б, Ц и т.д. из числа друзей А (обязательно) или не-друзей (возможно)<br>
<b><i>сами когда им взбредет в голову (по умолчанию, скажем, опрашивая легковесные<br>
http header'ы раз в 30 секунд или как-то так) сгружают странички запросов друзей<br>
</i></b> и автоматически их обрабатывают, удовлетворяя запрос, если они имеют<br>
нужные посты/комментарии,<br>
ЛИБО<br>
</li><li>добавляют запрос в свою страничку запросов: её опросят их друзья,<br>
запрос будет расползаться по p2p сети<br>
</li><li>ДАЛЕЕ, если машина Х видит при очередной читке страниц запросов друзей,<br>
что один из её предыдущих запросов получен, то она сгружает текст, просто как <br>
линк со страницы "запросов-ответов".<br>
</li><li> Этот network flooding протокол имеет "время жизни", которое задает<br>
горизонт поиска. В сетях соп структурой "малого мира" узлы находятся очень близко<br>
друг от друга (например, сотня тысяч пользователей ЖЖ кажется где-то в пределах<br>
8, до десятка, шагов). Время жизни также задает алгоритм уничтожения петель (loops)<br>
во время такого поиска. <br>
</li></ul><br>
<p>
Подобный протокол, активный, но с flooding/gossiping,  в подтверждение моим собственным<br>
размышлениям,  был описан в работе Adamic [добавить ссылку].<br>
<p>
Его пассивность есть гарантия от перегрузки сети: машина сама регулирует<br>
сколько она может обработать, и просто не реагирует на остальное. Можно<br>
также практиковать "откладывать в долгий ящик". Очереди могут жить как угодно<br>
долго и иметь разные алгоритмы приоритетов.<br>
<p>
Может быть работа с распределенными блогами может иметь 2 режима: "принеси сейчас"<br>
и "отдаю заказ, ищи и когда и если найдешь, скажешь"<br>
<p>
Подробно алгоритм и детали его исполнения будут рассмотрены в отдельном разделе.<br>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('8');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('9');">
<font class='lnum'><i>(9)</i></font>&nbsp;Первое представление о системе</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 348)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='9'></a></legend></fieldset>
<p>
<div id="9" style="display:none">   
<ul>

<b><i>Итак (несколько забегая вперед), мы мечтаем мечту о системе распределенных<br>
блогов по обрзу о подобию ЖЖ, мощь которого заключается в ЛЕНТЕ ДРУЗЕЙ, т.е.<br>
о системе блогов с сортированными по времени древовидными комментариями,<br>
позволяющей держать usernames (возможно communities) и списки 'друзей',<br>
генерируя "ленту новостей" из их публикаций, доступную для прочтения.<br>
<p>
Далее, мы думаем осуществить мечту о p2p сети в виде индивидуальных (плюс возможно<br>
публичных-общих) машин с веб-серверами, на которых крутятся специальные программки,<br>
которые автоматически опрашивают другие машины, участники сети, своих ли 'друзей'<br>
или нет, как обычные клиенты копирующие веб-странички для чтения.<br>
<p>
Пользователи же открыв свой браузер, читают полученные странички, направив его<br>
на какой-нибудь "localhost:8000" в случае узла на домашней машине.<br>
<p>
Система хранит сгруженные посты и комментарии локально, как файлы на диске (установки<br>
relational databse system, как показывают мои работы над прототипом, можно избежать),<br>
и по запросам от других делится информацией, которой она обладает.<br>
<p>
Машина несет "авторитетную" информацию о пользователях на самой себе, "авторитетную<br>
второго порядка" о своих друзьях, и неавторитетную об остальных участниках сети.</i></b><br>
<p>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('9');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('4');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('10');">
<font class='lnum'><i>(10)</i></font>&nbsp;Incremental development: создание системы наращиванием</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 373)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='10'></a></legend></fieldset>
<p>
<div id="10" style="display:none">   
<ul>

<p>
<p>
<p>
Невозможно сразу создать готовую сложную систему. Невозможно поддерживать энтузиазм<br>
участников если сидеть год творя свой блогнет молча или подкармливая потенциальных<br>
пользователей обещаниями.<br>
<p>
<b>Вопрос: нельзя ли добиться результата, модифицируя, например, программы livejournal?</b><br>
Ответ: мне кажется, что они написаны отвратительно, что их растили на коленке<br>
годами, решая некие сегодняшние проблемы, и нагромождая одно на другое. Они требуют<br>
установки, от которой болит голова даже у опытного сисадмина.<br>
Они написаны на пёрле в стиле, который я презираю (объектно-ориентированное что-то,<br>
где простая операция например чтение конфиг файла с диска, превращается в 10 прыжков<br>
между 3-4 файлами, причем каждый такой шаг описан на pseudo-advanced перле, с<br>
references, complex data structures and subs.<br>
<b>In my humble opinion the original code of Livejounal IS UNMAINTAINABLE</b><br>
Я как-то попробовал разобрать для своего проекта их вебсервер на перле, "perlbal", <br>
и меня стошнило.<br>
<p>
Мы же мечтаем мечту о по возможности простой программе, установка которой в<br>
минимальной конфигурации сводится к созданию директории и копировании в нее<br>
по возможности одного файла (от силы нескольких), никакой "системной установки",<br>
<p>
<p>
Подумав, я решил, что разработку блогнета следует вести НАРАЩИВАНИЕМ (incrementally),<br>
где каждая предыдущая ступень самостоятельно полезна и работоспособна, последующие<br>
добавляют к ней функциональность.<br>
<p>
Второе: процесс введения блогнета должен быть в постепенном отвязывании от ЖЖ,<br>
и связь с ЖЖ обрывать нельзя ни в коем случае даже на поздних стадиях, потому<br>
что <b><i>построить подобное сообщество с нуля либо невозможно, либо на это потребуются<br>
годы</i></b><br>
<p>
<p>
По моим прикидкам, процесс можно разбить так (приблизительно, обсуждаемо):<br>
<ul><li><br>
Делаем минимальный читатель-агрегатор постов и комментариев в ЖЖ<br>
(и других совместимых).<br>
Эта программа может тут же распространяться как "клиент для жж", и<br>
стать популярной, потому что она будет (а) сохранять на локальной <br>
машине интересующие вас посты и обсуждения в личный архив, и <br>
(б) потому что она служит, например, "разворачивателем дискуссий",<br>
недоработанная а потому востребованная функция для ЖЖ.<br>
Для представления ветвей в обсуждениях можно использовать тот же<br>
самый "складной" формат, который использован в файле, который вы<br>
сейчас читаете.<br>
<p>
Я такой клиент-прототип писал пару лет назад на перле<br>
<p>
Его очевидное расширение, включим это в тот же уровень 1, в позволении<br>
хозяину держать свои собственные записи и комментарии вдобавок к <br>
сгруженным с Интернета. Это просто.<br>
<p>
</li><li>Если веб-сервер на машине с программой из пункта 1 запускать не на <br>
127.0.0.1:portnumber, а на видимом снаружи адресе, то личный архив<br>
пользователя смогут читать приходящие посетители.<br>
Это не требует доделок, и такие агрегаторы, хозяева которых дают<br>
read-only  доступ, могут быть полезны: вспомните случаи, когда<br>
ЖЖ стирает целые журналы и/или "закрывается обслуживать сервера"<br>
точно в дату какой-нибудь массовой демострации.<br>
Такие частные агрегаторы уже могут защищать от уничтожения информации.<br>
<p>
Если однако теперь к видимому снаружи агрегатору добавить возможность<br>
многопользовательского режима, получим нашу программу уровня 2.<br>
<p>
Т.е. не один, но несколько (до сотен?) пользователей могут<br>
держать свои агрегированные архивы.<br>
<p>
Технически это означает <br>
(а) дописывание системы authentication,<br>
(б) управление домашними директориями каждого пользователя<br>
(в) систему взаимного доступа и чтения директорий друг друга<br>
<p>
<p>
Такая система скорее всего живет все еще на одной машине, наша программа<br>
все еще может быть простым CGI скриптом, и ГЛАВНОЕ - мы еще не говорим<br>
об обмене таких машин уровня 1 или 2 МЕЖДУ СОБОЙ напрямую.<br>
<p>
У нас все еще (многопользовательский, но) агрегатор внешних серверов <br>
блогов. Мы читаем внешние блоги через агрегатор ради сохранения постов<br>
и дискуссий в архивах.<br>
<p>
</li><li>Третий уровень<br>
После этого возможен <b>еще один скачок в функциональности</b> -<br>
возможность друг для друга комментировать в личных локальных блогах.<br>
Получаем агрегатор центрального сайта/сайтов плюс некие локальные блоги<br>
между пользователями системы<br>
<p>
"Связь с ЖЖ" означает, что мы возможно должны будем обеспечить постинг<br>
локальных блогов в ЖЖ, не только уметь копировать и аггрегировать ЖЖ<br>
тексты.<br>
<p>
Эта ступень дает как бы <b>полный аналог ЖЖ</b>, только без ЖЖ-масштабов, для<br>
возможно сотен людей на одной выделенной машине - <b>ПЛЮС агрегация</b> и<br>
создание архива интересующих наших пользователей блогов и комментариев <br>
из ЖЖ<br>
<p>
</li><li>(условно Четвертый уровень) <b>сетевая функциональность</b>.<br>
Может условно говоря вводиться на второй-третьей ступени т.к. чтобы было<br>
чем обмениваться через сеть, нужно, чтобы на машине велись свои блоги с<br>
комментариями.<br>
<p>
Могу вообразить, однако, что копируются лишь копии журналов, собранных в ЖЖ.<br>
Т.е. мы повышаем redundancy системы, оставляя ЖЖ единственным местом где<br>
тексты создаются - ???<br>
<p>
На этой ступени машины переговариваются напрямую, хотя индексы/адреса,<br>
служебная информация, может держаться либо в ЖЖ, либо на гарантированно<br>
круглосуточно работающих серверах блогнета.<br>
Об этом ниже. <br>
<p>
Так возникают<br>
многопользовательские машины, между пользователями который работают все взаимные<br>
"дружбы" и формирование ленты новостей, как  на ЖЖ-сервере, ПЛЮС возможность для<br>
таких машин разговаривать между собой напрямую и обмениваться информацией.<br>
<p>
Речь все еще идет об одном сервере. CGI все еще возможен, но нужно будет добавить<br>
и более быстрые виды обработки (FastCGI или язык, встроенный в веб сервер.)<br>
На этом уровне мы точно имеем дело с выделенной машиной и веб-сервером по выбору,<br>
который мы можем конфигурировать. Он точно работает 24 часа в сутки<br>
<p>
</li><li>Пятая ступень - как в 4, но со scaling up, масштабированием вверх:<br>
пользователи разделены на группы, которые пишутся на разные диски; серверов <br>
несколько (server farm), используется caching который обслуживает много backend<br>
серверов, добавляются резервные машины и механизмы failover и т.д.<br>
<p>
Может быть это когда-то кому-то потребуется. может быть. Вся идея распределенной<br>
системы блогов в том, чтобы разгрузить сервера и не сосредоточивать все службы<br>
в одном месте.<br>
<p>
</li></ul><br>
<p>
<p>
<p>
<p>
        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('11');">
<font class='lnum'><i>(11)</i></font>&nbsp;Технически программа ступени 1</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 509)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='11'></a></legend></fieldset>
<p>
<div id="11" style="display:none">   
<ul>

<p>
<p>
1. <i>обязана быть минимальной</i><br>
и пригодной для установки нетехническим пользователем. Грубо говоря,<br>
один файл, который копируют на машину в созданную директорую ("папку").<br>
<p>
ПЛЮС - такая программа обязана быть кроссплатформенной: к моему сожалению<br>
и особенно в России публика пользуется Windows (макинтоши в России, насколько<br>
я понимаю, не существуют)<br>
<p>
2. Такой клиент будет обязан хранить посты и комментарии  из ЖЖ как файлы<br>
или максимум как zip  или tar.gz архивы (которые делаются и читаются <br>
автоматически без участия нетехнического пользователя).<br>
Никаких баз данных. Максимально возможная уступка (которая, судя по моим<br>
пробам с прототипом, не нужна, если индексировать tar or tar.gz файлы) -<br>
sqlite. Это еще один бинарный файл, который тогда придется распространять<br>
с клиентом и копировать при установке.<br>
<p>
Места на диске годовой объём чтения занимает по моему опыту мало [дать<br>
точную цифру]<br>
<p>
3. Программа представляет из себя:<br>
(а) просто CGI-скрипт, который кидают под локальный веб-сервер, работающий<br>
на домашней машине, либо<br>
(б) программа имеет внутри примитивный встроенный веб-сервер (позволяющий<br>
пользователю смотреть уже сгруженные посты с локальной машины и дающий<br>
веб-интерфейс для конфигурации и сгрузки интересующих страниц.<br>
<p>
4. Нехорошо то, что невозможно будет пользоваться  RSS -  в ЖЖ он не<br>
отдает комментарии, и дает доступ лишь к последним 10-15 записям.<br>
Наш клиент будет разбирать ЖЖ-страницу и делать автоматические многочисленные<br>
до-загрузки комментариев.<br>
Для этого следует читать ЖЖ-страницы в "каноническом" виде, т.е.<br>
<pre>user.livejournal.com/1234.html?format=light or
user.livejournal.com/1234.html?format=light&page=2 etc.
</pre><br>
<p>
..а также уметь автоматически высасывать все содержимое журнала (возможно<br>
в заказанных датах) из страницы calendar.<br>
<p>
Я это уже делал в своем прототипе<br>
<p>
/у ЖЖ есть еще какие-то APIs, но я ими не пользовался, они толком не <br>
документированы, и если верно помню, дают возможность сгружать произвольные<br>
даты но только из собственного журнала, для которого у вас есть логин, т.е.<br>
почти бесполезны/<br>
<p>
<p>
5. Такой жж-клиент должен уметь сохранять cookies и передавать их на ЖЖ-сервер.<br>
Иначе вы сможете читать только открытые посты. (я это в прототипе кажется<br>
не доделал)<br>
<p>
<p>
6. Подобные же <b>gateway functions</b> наша программа должна иметь для<br>
любой другой централизованной системы блогов, содержимое которой мы хотим<br>
агрегировать.<br>
<p>
Кроме того наш минимальный клиент должен понимать standard RSS и (позже) <br>
наш собственный стандартизированный интерфейс обмена постами и комментариями<br>
среди машин блогонета.<br>
Этот интерфейс будет простым, а не через зад деланным, как в ЖЖ.<br>
<p>
<b>СЛЕДУЕТ ЗАМЕТИТЬ, ЧТО</b> даже если ограничить разработку только многопользова<br>
тельскими работающими круглосуточно машинами, блоги на которых читаются через<br>
браузер, и не разрабатывать индивидуальные программы для домашних машин, то<br>
<b>вся описанная функциональность все равно должна быть создана</b><br>
<p>
Можно считать, что ступень клиента-читателя  для домашней машины - просто разбиение<br>
разработки на шаги, каждый из которых сам по себе может быть полезен и создавать<br>
пользовательскую популярность, одновременно служа базой для надстроек следующей<br>
ступени -- как альтернатива долгой разработки "вглухую", энтузиазма на которую может<br>
просто не хватить.<br>
<p>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('11');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('12');">
<font class='lnum'><i>(12)</i></font>&nbsp;Сетевая функциональность</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 586)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='12'></a></legend></fieldset>
<p>
<div id="12" style="display:none">   
<ul>

<p>
<p>
Вторая? Третья? Четвертая? - <b>сетевая ступень</b><br>
начало прямого обмена между узлами, работающими как <br>
[агрегатор(ы) + личны(е) блог(и)].<br>
<p>
Здесь главных проблем несколько. Это самая мутная и главная часть разработки.<br>
<p>
(а) В силу того, что мелкие участники сети могут менять адреса и не быть<br>
на сети круглые сутки, необходимо держать службу сопоставления адресов и<br>
personalities.<br>
<i>Предлагаю как первую ступень в разработке использовать паразитирование на<br>
самом ЖЖ.</i><br>
Т.е. в нашем реальном журнале ли, или в специально созданном журнале, я<br>
держу специальный технический пост (или позволяю комментарии в последнем/<br>
последних постах (их нам всегда принесет RSS, который разбирать легко), <br>
я оставляю метки - "включен" ли я и на каком адресе. Когда я заканчиваю<br>
работу, моя программа так же автоматически пишет "ушел с сети".<br>
<p>
Тогда мои друзья и/или любые читатели считывают автоматически информацию,<br>
и пытаются начать прямой обмен, либо не пытаются, восстанавливая посты<br>
и обсуждения с машин моих друзей (которые автоматически всегда пытаются<br>
держать cache/копии постов друг друга, хотя бы какое-то время).<br>
<p>
(б) на машинах блогонета по-видимому надо поддерживать карты блогонета.<br>
Хотя может быть можно обойтись только картами ваших друзей, полагаясь на<br>
механизм flooding'а и связность сети для поиска других участников и их <br>
заметок.<br>
<p>
(в) Authentication and authorization.<br>
Это не взаимные permissions на одной многопользовательской машине, но <br>
однозначное определение пользователя (и также машин для недопущения подмен).<br>
<p>
В принципе это сводится к генерации ключей, которая должна быть простой<br>
для пользователя, и к использованию https.<br>
Если я верно понимаю, это, грубо говоря, можно не писать, но использовать<br>
существующую standalone маленькую и работающую на всех платформах внешнюю<br>
программку. (Плюс еще один файл в distribution).<br>
<p>
Мне не нравятся идеи использовать OpenID: во-первых, это не продуманный<br>
протокол, в нем кажется есть дыры. Во-вторых, он создавался и поддержан<br>
корпорациями, потому что он служит иной цели - следить, привязывая разные<br>
появления разных usernames в разных местах к одному человеку. Отсюда такое<br>
подбадривание, словами и техническое: переводите все на OpenID.<br>
<p>
Не хочу с ним связываться.<br>
<p>
(г) Однозначная индексация постов и комментариев, и язык запросов, что<br>
позволять пользователям запрашивать.<br>
Например, "все посты за последнюю неделю пользователя Х", или "собрать<br>
полный набор комментариев к посту Y, где бы они ни были оставлены/скопированы"<br>
И так далее.<br>
Верно вводить это надо и на ступени 2, но с учетом именно сетевого использования.<br>
<p>
Это не все, пожалуй. Подробно в своем разделе.<br>
<p>
(д) Система глобального - или объединяемого в глобальный - поиска по всем<br>
темам (tags), тексту статей и комментариев.<br>
<p>
Это можно делать паразитируя на существующих поисковиках (понимая, что тем<br>
принимаешь зависимость от них; все они сегодня цензурируют информацию).<br>
Можно объединять частные индексы, созданные каждым агрегатором для себя.<br>
Среди открытого ПО есть поисковики, позволяющие держать распределенные индексы.<br>
Это - отдельные программы, требующие отдельной установки и maintenance.<br>
<p>
Я бы заметил, что наша распределенная система блогов никаким образом не<br>
преследует цели быть "a darknet".<br>
Возможность обмениваться частными сообщениями с сильной криптографией<br>
может быть добавлена позже, поверх уже существующей системы блогов, для<br>
например друзей между собой.<br>
<p>
Именно здесь больше всего неизвестного, работы, и здесь находится граница<br>
того, что умеют сегодня делать в распределенных системах.<br>
<p>
<b>Возможно существование гибридной системы </b>- когда все индексы лежат на (многих)<br>
круглосуточных серверах блогнета, включая полные поиски по тексту, и они <br>
постоянно собирают информацию о новых публикациях, тогда как сам текст постов<br>
и комментариев живет на частных машинах и реплицируется среди друзей и в архивах<br>
прочих читателей, которых заинтересовали посты.<br>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('12');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('10');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('13');">
<font class='lnum'><i>(13)</i></font>&nbsp;Какими средствами это делать? - язык и готовые модули</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 674)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='13'></a></legend></fieldset>
<p>
<div id="13" style="display:none">   
<ul>

<p>
<p>
Итак, у нас есть куча требований, на низших ступенях в первую очередь<br>
к простоте ("никаких системных установок") и кросс-платформенности.<br>
<p>
Во-вторых, ряд нужных функций - разговоры по https, создание ключей<br>
и т.д. и т.д. - могут уже быть решены в простых модульных программах<br>
или библиотеках.<br>
Можно ли пользуясь "философией юникса" подвязать их в наш проект<br>
простым способом, резко экономя на разработке?<br>
<p>
Насколько я понимаю и знаю доступные открытые программы, ответ "да".<br>
<p>
Также критичен выбор языка на котором надо затевать такой проект.<br>
<p>
<b>Мои предпочтения составят такую последовательность:</b><br>
<p>
(а) Если бы была возможность сконструировать решение из готовых кусков, <br>
это стояло бы на первом месте.<br>
<p>
Я просмотрел множество микро-блог engines, они плохи. Проще писать <br>
самому. процентов 90 сидит поверх MySQL. Отвратительно.<br>
<p>
Я бы предпочел не пользоваться базами данных: файловая система плюс<br>
индексы решают все вопросы даже для большого объема информации<br>
Одно возможное исключение  - sqlite; другое - Mikko Hibayashi "Tokyo Cabinet" <br>
и микроблог на его основе. Может быть, удастся модифицировать. Его <br>
скорость хороша. надо допислывать  комментарии и т.д.<br>
<p>
Если бы мне подсказали CMS/blogging engine, которую можно взять за основу,<br>
я был бы благодарен<br>
<p>
(б) требование минимальности и отсутствия "администрирования": значит, <br>
либо application состоит из немногих binaries, которые просто копируют в <br>
директорию, либо писать надо на самодостаточном языке, который по <br>
возможности не предполагает "системной установки".<br>
<p>
Один такой язык - <a href=http://www.newlisp.org>newlisp</a><br>
Главная его проблема  его никто не знает, и его использование отсечет<br>
практически всех добровольных помощников<br>
<p>
(в) третья очередь  - один из известных языков. Скорее всего, perl.<br>
Возможен пхп, python, что-там-еще..<br>
<p>
Это делает проект плохо установливаемым на личные windows машины.<br>
<p>
(г) Может быть, возможна комбинация - перл для многопользовательского <br>
сервера, иное решение для индивидуальной машины. Это громоздко и <br>
удваивает усилия в части разработки<br>
<p>
<p>
(б), (в), (г) допускают использование готовых standalone micro-программ для,<br>
например,  https или какого-нибудь там индексирования/архивирования.<br>
<p>
Гибридное исполнение, если применимо по техническим показателям, <br>
сократит время разработки и позволит не переизобретать велосипеды<br>
<p>
<b>One more possibility</b><br>
Делать вначале как можно быстрее работающий прототип, мешая языки<br>
и готовые utilities. Затем приводить его в вид, удобный для пользователя.<br>
<p>
<p>
<p>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('13');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('3');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('14');">
<font class='lnum'><i>(14)</i></font>&nbsp; </a>&nbsp;<font class='lnum' size=-1><sub><i>(line 741)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='14'></a></legend></fieldset>
<p>
<div id="14" style="display:none">   
<ul>

<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('14');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('15');">
<font class='lnum'><i>(15)</i></font>&nbsp;Проект: конкретные части в деталях</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 744)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='15'></a></legend></fieldset>
<p>
<div id="15" style="display:none">   
<ul>

<p>
<p>
<p>
<p>
        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('16');">
<font class='lnum'><i>(16)</i></font>&nbsp;(a) Tokyo Cabinet and Tokyo Promenade by Hibayashi</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 749)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='16'></a></legend></fieldset>
<p>
<div id="16" style="display:none">   
<ul>

<p>
<b>check Mikio Hirabayashi</b><br>
<a href= http://1978th.net/tokyopromenade/> http://1978th.net/tokyopromenade/</a><br>
He has a full "hyper-estraier" search engine, which allows some degree of index<br>
exchange and distributed search engines operation,.<br>
but also the minimal CMS engine and a miminal text search thingy<br>
<p>
see if any of these can cut the needed work<br>
<p>
<p>
<p>
Выбор почти случаен.<br>
<p>
Tokyo Cabinet  - осовремененная веерсия DBM, в которой ускорение достигается<br>
за счет выполнения разных операций в памяти.<br>
Tokyo Promenade - его же простая CMS на C построенная поверх TC. Мне понрави-<br>
лась минимальностью (6k строк кода), тем, что написана внятно и процедурно.<br>
<p>
<b>Выяснить:</b><br>
Можно ли  приспособить как базис для engine для наших целей?<br>
Как делается поиск? Можно ли обмениваться аналогами diff'ов индексов?<br>
(плохо, что он держит сам текст в T.C.)<br>
Легко ли дописать комментарии и "ленту друзей"?<br>
Как будет работать с https?<br>
Можно ли расширять не на C, а на скриптовом языке?<br>
Как он будет scale? (память,CPU, диск)<br>
<p>
Можно ли держать индивидуальные базы для каждого пользователя, объединяя<br>
запросы в ленту друзей? <br>
<p>
и т.д.<br>
<p>
<p>
        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('17');">
<font class='lnum'><i>(17)</i></font>&nbsp;First ideas: how it might be set up</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 783)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='17'></a></legend></fieldset>
<p>
<div id="17" style="display:none">   
<ul>

<p>
<p>
1. Multiply entities without justification ;))<br>
<ul>(a) Я мог бы делать прототип пользуясь Command-Line utilities (tdbmgr, <br>
prommgr) для манипулирования TDB которую создает эта CMS напрямую.<br>
Позже подменить их вызовы обращением к библ. из "С" или скриптового<br>
(перл, луа, ..)<br>
<p>
(б) Одна такая CMS - почти точно то, что нужно для каждого user'а.<br>
Отсюда идея: кинуть по 77KiB мелочи в каждую директорию. Держать<br>
по файлу для каждого.<br>
<p>
(в) Import-export позволит делать gateway to LJ: сгружать, разбирать,<br>
преобразовывать к формату статей Promenade, запихивать в его TDB.<br>
<p>
(г) У Пром-а есть RSS. Кроме того, экспорт позволить раздавать диффы.<br>
<p>
(д) Далее, нужно может быть поменять забитые в CMS виды поиска (??)<br>
<p>
(е) Может быть изменить базу: держать в ней ТОЛЬКО  skeleton info, <br>
но тексты статьи/комментариев - оставить файлами в дир. (?) - исчезает<br>
полнотекстовый поиск.<br>
Однако 40мБ файла затормозит выдачу.<br>
<p>
МОЖЕТ БЫТЬ компенсировать: <br>
    <ul>(1) агрессивным делением (в<br>
    (2) with caching<br>
    (3) pre-calculating</ul><br>
Блоги интенсивно используют только сейчашнее, старое лежит почти<br>
нетронутым. Потому очень быстрый поиск в сегодняшнем (до 3х дней), но<br>
создавать как только день кончился  a "yesterday's new files list" для<br>
объединенной ленты и для каждого польз. и его ленты друзей, и не искать<br>
вообще для такой выдачи.<br>
<p>
(ж) для скорости, однако, можно индексировать TDB columns (heh!).<br>
</ul><br>
<p>
Так что - пробовать.<br>
<p>
2. Кроме того, придется переписывать внешний вид - "template" file and <br>
the CSS.<br>
Их можно держать хоть сотню, меняя внешний вид индивидуального журнала,<br>
если мы держим копии <s>promenade.cgi</s> username.cgi в каждой дир.<br>
<p>
3. Пароли - убедившись в личности по keys и через stunnel - можно копировать<br>
просто грепом (эквивалентом изнутри скрипта).<br>
<p>
4. Придется переписывать комментарии. Если держать в ДБ только skeletons,<br>
не придется: они станут тоже файлами как и статье; их вызов вместе,<br>
затем сборка страницы. With HTML Folding, of course.<br>
(remember, it was untested on IE, though).<br>
<p>
<p>
<p>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('17');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('16');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('18');">
<font class='lnum'><i>(18)</i></font>&nbsp;(b) Gossip-based global searching in a p2p system: PlanetP</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 841)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='18'></a></legend></fieldset>
<p>
<div id="18" style="display:none">   
<ul>

<p>
<b>check PlanetP</b><br>
<a href=http://www.panic-lab.rutgers.edu/Research/planetp>http://www.panic-lab.rutgers.edu/Research/planetp</a><br>
p2p content search by constant gossiping of indeces<br>
<p>
Проверить their scaling figures and charts<br>
<p>
        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('19');">
<font class='lnum'><i>(19)</i></font>&nbsp;Scaling of gossip-based algorithm</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 849)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='19'></a></legend></fieldset>
<p>
<div id="19" style="display:none">   
<ul>

<p>
.. seems convergence for a peer community of 1500 and more or less realistic <br>
update sizes, connection/disconnection behaviour etc. is in the order of<br>
minutes (5-10 minutes), for sth like 30-second gossip interval, which is OK.<br>
In another publication their propagation time was around 40 seconds for sth<br>
like 1.5-2k nodes for a gossip interval of 1 second.<br>
So the speed of propagation can be controlled by nodes depending on their<br>
available bandwith, current load etc. even dynamically (??).<br>
<p>
Bandwidth for each node is small /but remember they based their indeces on Bloom<br>
filters/<br>
<p>
For a strongly connected LJ topology with hundreds of friends easily, that<br>
propagation might improve<br>
<p>
Their search indeces are exchanged as compressed diffs (i.e. those must<br>
have a capability to be incrementally updated)<br>
<p>
They used bloom filters, I need to check beh of Hirabayashi TC indeces etc.<br>
for suitability for work with increments/diffs<br>
<p>
They did an adjustment in the alg for well-connected peers vs slow nodes<br>
(??) - sth similar will happen for Small World nodes; they did not study<br>
"friends' idea (probably that mechanism or sth similar can be found in<br>
a ref about p2p with "subscription" ?)<br>
<p>
.. they got most of their results on simulators, and I have not checked yet<br>
what sort network topology they generated.<br>
<p>
But in whole their results look very relevant.<br>
<p>
1-2k nodes seems too few for a LJ-like system, however 1-2k 24-hour on-line<br>
servers, each hosting a community of several hundred (btw which all information<br>
is immediately available) will produce up to a million or so blogs, which is<br>
sufficient. <br>
<p>
See also "mixed" estimates for PlanetP.<br>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('19');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('20');">
<font class='lnum'><i>(20)</i></font>&nbsp;Bloom filters as central to the idea</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 890)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='20'></a></legend></fieldset>
<p>
<div id="20" style="display:none">   
<ul>

<p>
".. We choose to use Bloom ﬁlters because they provide<br>
four important advantages: (1) The Bloom ﬁlter is a<br>
relatively efﬁcient summary mechanism; for example,<br>
to support a false positive rate of less than 5% when<br>
using two hash functions, we would need 1.9 KB to<br>
summarize 1000 terms and 34 KB for 50,000 terms.<br>
(2) Previous studies of ﬁle systems have shown that a<br>
majority of ﬁles change very slowly [26, 10]. If P2P<br>
information collections display the same characteristic,<br>
then, using Bloom ﬁlters, PlanetP will place very little<br>
load on the community for searches against this bulk<br>
of slowly changing data. (3) Peers can independently<br>
trade-off accuracy for storage. For example, a peer           t<br>
may choose to combine the ﬁlters of several peers to<br>
save space; the trade-off is that must now contact this<br>
                                      t<br>
set of peers whenever a query hits on this combined<br>
ﬁlter. This ability for independently trading accuracy<br>
for storage is particularly useful for peers running on<br>
memory-constrained devices (e.g., hand-held devices)..."<br>
<p>
<p>
<p>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('20');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('18');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('21');">
<font class='lnum'><i>(21)</i></font>&nbsp;(c) http+SSL с помощью внешней utility</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 918)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='21'></a></legend></fieldset>
<p>
<div id="21" style="display:none">   
<ul>

<p>
<p>
Can I use "stunnel" for all my encryption needs to bypass the need to <br>
configure "friends" (trusted users etc) at the web server level, what<br>
is not practical/not allowed in many environments?<br>
<p>
I.e. maintain it automatically through user-administered external<br>
script/web form to set access etc.<br>
<p>
--Seems, yes--<br>
Will have to run some key-generation commands in the beginning etc.<br>
This is all right, as can be done from scripts, too. <br>
Will require crypto-libs install on the host? - already there for Linux <br>
at least.<br>
<p>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('21');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

        <fieldset><legend><a href="javascript:;" onmousedown="toggleCombined('22');">
<font class='lnum'><i>(22)</i></font>&nbsp;(d) Web of Trust</a>&nbsp;<font class='lnum' size=-1><sub><i>(line 937)</i></sub></font> <font size=-2><i><a href='#tocancor'>toc</a></i></font><a name='22'></a></legend></fieldset>
<p>
<div id="22" style="display:none">   
<ul>

<p>
<p>
Достаточно ли одной концепции "друзей" для поддержания "авторитетности",<br>
подтверждаемости постов/комментариев и проч. ?<br>
<p>
Страница с графиками Web of Trust для PGP, программы сильного шифрования<br>
часто используемой для электронной почты:<br>
<a href=http://pgp.cs.uu.nl/plot/>http://pgp.cs.uu.nl/plot/</a><br>
<p>
Также дает картину параметров для сети-"малого мира" (т.е. графа со <br>
"степенным распределением" количества связей в узлах от количества таких<br>
узлов; обычно рисуется в log-log координатах, где представляет из себя<br>
почти прямую линию.<br>
<p>
Т.е. в распределенной системе достаточно было бы генерации пар ключей<br>
(автоматически программой) для каждого создающего пользователя на блогонете,<br>
и затем подписи публичных ключей теми уже существующими участниками, <br>
которые пожелают признать этих пользователей как своих друзей.<br>
<p>
Может быть надо будет связать ключи пользователей с ключами компьютеров,<br>
не знаю, надо думать.<br>
<p>
<p>
ЗДЕСЬ  - маленькая программа на Пёрле для проверки цепи подтверждений:<br>
<a href=http://www.chaosreigns.com/code/sigtrace/>http://www.chaosreigns.com/code/sigtrace/</a><br>
of data that is in a (DBM?) format.<br>
<p>
<p>
According to data on this page, time to check is OK (0.3 of a second for one key),<br>
and the sizes of databases are OK too for modern-day networks (10MB compressed) --<br>
for an operation that will not be done repeatedly (onece checked, the user can be<br>
kept in a local "trusted" or "verified" flat list or a hash).<br>
<p>
<p>
ALSO: a utility to plot dependencies with "dot":<br>
<a href=http://www.chaosreigns.com/code/sig2dot/>http://www.chaosreigns.com/code/sig2dot/</a><br>
<p>
<p>
Здесь - какое-то описание (не очень) и ссылки на utilities:<br>
<a href=http://www.rubin.ch/pgp/weboftrust.en.html>http://www.rubin.ch/pgp/weboftrust.en.html</a><br>
<p>
<p>
<p>
<p>
<p>
<p>
</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('22');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>

</ul>
<p>
<br>
<i><font size=-1>
<a href="javascript:;"onmousedown="toggleCombined('15');">
Close the subsection</a></font>
</i> -- <i><font size=-1>
<a href="javascript:;" onmousedown="showAll();">
expand all</a> -- 
<a href="javascript:;" onmousedown="hideAll();">
collapse all</a>
</font></i>

<p>
</div>


</td></tr></table></center></body></html>
